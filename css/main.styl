@import "_mixins"
@import "_common"
@import "_fonts"

$sidebar_width = 320px

html, body
    height: 100%

body
    position: relative
    margin: 0
    min-width: 320px
    background: $backgroundColour
    -webkit-font-smoothing: antialiased

// Main site sidebar:
body > header
    width: $sidebar_width
    height: 100%
    padding: 1rem
    background: $backgroundColour
    background: linear-gradient($backgroundColour, darken($backgroundColour, 10%))
    position: fixed
    z-index: 10
    top: 0
    left: 0
    box-shadow: 0 0 10px rgba(0,0,0,0.3)

    .title
        display: block
        border: none
        background: none
        clearfix()

    .avatar
        float: left
        margin-right: 0.8rem
        position: relative
        border: 1px solid #999

    h1
        font-size: 2.1rem
        margin: 0.5em 0

    h2
        margin: 2rem 0 0.2rem
        font-size: 1rem
        text-transform: uppercase

        a
            text-transform: none
            font-style: italic

            &:not(:hover)
                background: none
                border: none
                color: #999

    ul
        margin: 0
        padding: 0
        list-style-type: none

    li a
        display: block
        background: none
        border-bottom: 3px solid transparent

        &:hover
            background: lighten($green, 93%)
            border-bottom: 3px solid $green

    .posts li
        margin-left: -3px

        a:before
            content: 'f'
            font: normal 0.8em 'icomoon'
            width: 1em
            text-align: center
            margin: 0 0.5em
            color: #aaa


    .work, .tools, .location, .github, .twitter
        color: inherit
        text-decoration: none
        background: none

        &:before
            display: inline-block
            width: 1em
            position: relative
            top: 3px
            text-align: center
            margin-right: 0.4em
            font: normal 1.3em 'icomoon'
            text-decoration: none
            font-style: normal
            speak: none
            text-shadow: 0 1px 0 #aaa
            color: #c5c5c5
            -webkit-font-smoothing: antialiased

    .work:before
        content: "\21"
    .tools:before
        content: "\22"
    .location:before
        content: "\25"
    .twitter:before
        content: "\23"
    .github:before
        content: "\24"


// Prevent the homepage canvas from introducing scrollbars
.hp_canvas_wrap
    height: 100%
    width: 100%
    overflow: hidden

.content
    margin-left: $sidebar_width
    padding: 0 3rem

ul.posts
    list-style-type: none
    padding-left: 0

    time
        color: #888
        font-weight: bold
        margin-right: 5px
        font-size: 1.1rem

    li
        margin-bottom: 5px

// Blog post article
.post
    padding: 1rem 0
    max-width: 35em

    header
        h1
            margin: 1.5rem 0 0.2rem
            font-size: 2rem
            font-style: italic
            line-height: 1

        time[pubdate]
            display: block
            margin-bottom: 2rem
            font-weight: 600
            color: #999

    h1, h2, h3, h4
        margin: 1rem 0 0.5rem
    h1
        font-size: 1.5rem
    h2
        font-size: 1.2rem
        font-style: italic
    h3, h4
        font-size: 1rem


// Mobile header/footer:
@media screen and (max-width: 600px)
    body
        padding-top: 110px   // Leave room for heading to be absolutely positioned here

    body > header
        position: static
        height: auto
        width: 100%
        padding-top: 1px

        // Move title to the top of the page
        .title
            position: absolute
            top: 0
            left: 0
            width: 100%
            padding: 1rem
            background: #eee
            box-shadow: 0 0 5px rgba(0,0,0, 0.3)

    .hp_canvas_wrap
        height: 250px       // Just show a bit of the canvas animation on mobile

    .content
        margin-left: 0

    .post
        background: $backgroundColour
