@import "_mixins"
@import "_common"
@import "_fonts"


// Main site sidebar:
body > header
    padding: 1rem

    .title
        display: block
        border: none
        background: none
        clearfix()
        border: none
        box-shadow: none
        color: inherit !important

    .avatar
        float: left
        margin-right: 0.5rem
        position: relative
        border-radius: 50%

    h1
        font-size: 2rem
        margin: 1rem 0
        margin-right: -2rem

.content
    padding: 0 5rem

ul.posts
    list-style-type: none
    padding-left: 0

    time
        display: inline-block
        width: 6em
        color: #888
        font-weight: bold
        margin-right: 5px
        font-size: 1.1rem

    li
        margin-bottom: 5px

// Attempt to align all h1s in the content with the left sidebar's h1:
.content h1
    margin: 1.4rem 0 0.2rem
    font-size: 2rem
    line-height: 1

.post_list, .post
    padding: 2rem 0
    max-width: 35em

// Blog post article styles
.post
    header
        h1
            font-style: italic

        time[pubdate]
            display: block
            margin-bottom: 2rem
            font-weight: 600
            color: #999

    h2, h3, h4
        margin: 1rem 0 0.5rem
    h2
        font-size: 1.2rem
        font-style: italic
    h3, h4
        font-size: 1rem


// Mobile header/footer:
@media screen and (max-width: 800px)
    body
        padding-top: 110px   // Leave room for heading to be absolutely positioned here

    body > header
        position: static
        height: auto
        width: 100%
        padding-top: 1px

        // Move title to the top of the page
        .title
            position: absolute
            top: 0
            left: 0
            width: 100%
            padding: 1rem 2rem
            background: #eee
            box-shadow: 0 0 5px rgba(0,0,0, 0.3)

    .hp_canvas_wrap
        height: 250px       // Just show a bit of the canvas animation on mobile

    .content
        margin-left: 0
        padding: 0 2rem

// Homepage
section.homepage
    padding: 1rem

    > a
        display: block
        width: 20%
        float: left
        text-align: center
        color: #999
        padding: 2rem 0

        &:before
            font: normal 1.3em 'icomoon'
            margin-right: 0.3em

    h2
        display: inline

    &.code a:before
        content: "\24"
    &.links a:before
        content: "\22"

svg
    width: 80%

.posts svg
    height: 100%

    g
        text
            opacity: 0
            transition: all 0.5s

            &.date
                font-size: 0.8rem
        &:hover text
            opacity: 1

        line
            opacity: 0
            stroke: black
        &:hover line
            opacity: 1


    circle
        fill: rgba(30, 45, 90, 0.5)

        &:hover
            fill: rgba(30, 45, 90, 1)

.code svg
    height: 280px       // FIXME: this is arbitrary

    g.repo
        a
            fill: #bbb
            opacity: 0.5
            transition: all 0.4s

            &:hover
                opacity: 1

        text
            fill: #333
            font-size: 1rem
            opacity: 0
            transition: all 0.4s

            &.name
                opacity: 0.5

            tspan.language
                fill: #999
                font-size: 0.9em

            &.description
                font-size: 0.8rem

        &:hover text
            opacity: 1

        rect
            fill: transparent
