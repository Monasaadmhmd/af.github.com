@import "_common"
@import "_fonts"

$codeColour = #5a6
$postsColour = #56a
$linksColour = rgb(220, 180, 50)

flexboxCenter()
    // Prefixed versions for safari:
    display: -webkit-flex
    -webkit-justify-content: center
    -webkit-align-items: center

    display: flex
    justify-content: center
    align-items: center


// Homepage styles
section.homepage
    margin-bottom: 2rem
    position: relative
    background: linear-gradient(#f7f7f7, #eee)

    &.loading:before
        content: 'Loading data...'
        position: absolute
        width: 100%
        margin: 5rem
        pointer-events: none
        opacity: 0.5
        text-align: center
        font-style: italic

    &.loading.failed:before
        content: "Sorry, failed to load the data. Refresh and try again?"

    > a
        display: block
        position: relative
        flexboxCenter()
        width: 20%
        float: left
        text-align: center
        height: 100%
        transition: all 0.3s
        color: #eee
        text-shadow: 0 1px 2px rgba(0,0,0,0.7)
        font-style: italic
        overflow: hidden

        &:hover
            color: white

            &:before
                color: rgba(#fff, 0.45)

        &:before
            flexboxCenter()
            font: normal 10em 'icons'
            transition: color 0.3s
            text-shadow: none
            color: rgba(#fff, 0.35)

    h2
        position: absolute
        top: 35%
        left: 0
        width: 100%
        margin: 0
        text-align: center



    &.code
        height: 300px

        > a
            border-color: $codeColour
            background: linear-gradient(rgba($codeColour, 0.8), $codeColour)

            &:before
                $githubIcon()
                font-size: 22rem

        h2
            top: 45%

    &.posts
        height: 120px

        > a
            border-color: $postsColour
            background: linear-gradient(rgba($postsColour, 0.8), $postsColour)

            &:before
                $pencilIcon()
                position: relative
                top: -1rem

    &.links
        height: 120px

        > a
            border-color: $linksColour
            background: linear-gradient(rgba($linksColour, 0.8), $linksColour)

            &:before
                $linkIcon()
                font-size: 9rem

.homepage svg
    display: block
    width: 80%
    height: 100%

    .xAxis
        fill: #ccc
        font-weight: bold

        path
            stroke: #ccc
            stroke-width: 4px
        line
            stroke: #ccc
            stroke-width: 2px

.posts svg, .links svg
    g
        text
            display: none

            &.date
                font-size: 0.8rem
        a:hover ~ text
            display: block

        line
            display: none
            stroke: black
        a:hover line
            display: block

    circle
        fill: rgba($postsColour, 0.8)

        &:hover
            fill: black

.links svg
    circle
        fill: rgba($linksColour, 0.5)

        &:hover
            fill: black

    .linkLabel
        font-size: 0.9rem
        display: block
        fill: $linksColour


.code svg
    g.repo
        path
            transition: opacity 0.5s
            opacity: 0.5
            fill: rgba($codeColour, 0.8)

        a
            transition: all 0.4s

            &:hover *
                opacity: 1

        text
            fill: #333
            font-size: 1rem
            opacity: 0
            transition: all 0.4s

            &.name
                opacity: 1

            tspan.language
                fill: #999
                font-size: 0.9em

            .description
                opacity: 0
                font-size: 0.8rem

        &:hover .description
            opacity: 1

        rect
            fill: transparent
